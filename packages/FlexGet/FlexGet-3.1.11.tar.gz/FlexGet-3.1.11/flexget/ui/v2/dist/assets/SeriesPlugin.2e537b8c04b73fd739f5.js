(this.webpackJsonp=this.webpackJsonp||[]).push([[10],{1080:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(77);t.a=Object(a.a)(o.a.createElement("path",{d:"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos")},1158:function(e,t,n){"use strict";n.r(t);var r,o=n(1),a=n.n(o),c=n(177),i=n(14),u=n(1153),s=n(77),l=Object(s.a)(a.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),b=n(271),f=n(850),p=n(245),O=n(360),d=n(47),j=n(218),y=n(321),m=n(137),v=n(145);function g(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){g(a,r,o,c,i,"next",e)}function i(e){g(a,r,o,c,i,"throw",e)}c(void 0)}))}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function w(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.GET_SHOWS="@flexget/series/GET_SHOWS",e.ADD_SHOW="@flexget/series/ADD_SHOW",e.UPDATE_SHOW="@flexget/series/UPDATE_SHOW",e.REMOVE_SHOW="@flexget/series/REMOVE_SHOW"}(r||(r={}));var P=function(e,t){return Object(j.a)(r.GET_SHOWS,{shows:e,totalCount:t})},A=function(e){return Object(j.a)(r.ADD_SHOW,e)},k=function(e){return Object(j.a)(r.REMOVE_SHOW,e)},C=function(e,t){switch(t.type){case r.GET_SHOWS:return x({},t.payload);case r.ADD_SHOW:return x({},e,{shows:[t.payload].concat(w(e.shows)),totalCount:e.totalCount+1});case r.REMOVE_SHOW:return x({},e,{totalCount:e.totalCount-1,shows:e.shows.filter((function(e){return e.id!==t.payload}))});case r.UPDATE_SHOW:return x({},e,{shows:e.shows.map((function(e){return e.id===t.payload.id?t.payload:e}))});default:return e}},D=Object(d.a)((function(){return Object(o.useReducer)(C,{shows:[],totalCount:0})})),_=n(1152),T=n(802),I=n(803),L=n(804),M=n(805),V=n(806),W=n(807);function H(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}var z=function(e){return Object(i.d)("color:",e.palette.error[500],";text-align:center;")},N=function(e){var t=e.open,n=void 0!==t&&t,r=e.onClose,a=e.request,c=e.state,u=c.error,s=c.loading,l=e.name,b=Object(o.useCallback)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a();case 3:e.sent.ok&&r();case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){H(a,r,o,c,i,"next",e)}function i(e){H(a,r,o,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[r,a]);return Object(i.e)(T.a,{open:n,onClose:r,fullWidth:!0,maxWidth:"xs"},Object(i.e)("form",{onSubmit:b},Object(i.e)(I.a,null,"Remove ",l),Object(i.e)(L.a,null,u&&Object(i.e)(M.a,{css:z},u.message),Object(i.e)(M.a,null,"Are you sure you would like to remove this ",l,"?")),Object(i.e)(V.a,null,Object(i.e)(W.a,{onClick:r,type:"button"},"Cancel"),Object(i.e)(W.a,{type:"submit",color:"primary",disabled:s},"Remove"))))},U=n(950),G=n(1150),q=n(244),F=n(952),B=n(829),J=n(791),Y=n(1151),K=n(929),Q=n(273),X=function(e){return{title:e.name,originalUrl:"",quality:"unknown",seriesName:e.name}},Z=function(e,t){return{title:t.identifier,originalUrl:"",quality:"unknown",seriesName:e.name,seriesSeason:t.season,seriesEpisode:t.number,seriesId:t.identifier}};var $={name:"10rvbm3",styles:"font-weight:500;"},ee={name:"1l53txw",styles:"position:relative;display:flex;flex-direction:column;justify-content:start;height:100%;"},te={name:"1tk96uo",styles:"flex:1;display:flex;flex-direction:column;align-items:flex-start;"},ne={name:"15y92lb",styles:"flex:1;width:100%;"},re=function(e){return Object(i.d)("padding-left:",e.typography.pxToRem(e.spacing(3)),";justify-content:space-between;")},oe=function(e){var t,n=e.show,r=e.onRemoveClick,o=Object(c.j)().url;return Object(i.e)(U.a,{css:ee},Object(i.e)(G.a,{css:te,component:Q.a,to:"".concat(o,"/").concat(n.id)},Object(i.e)(K.a,{entry:X(n),css:ne},!!n.beginEpisode&&Object(i.e)(q.a,{variant:"body2",color:"textSecondary"},Object(i.e)(q.a,{variant:"body2",css:$,color:"textPrimary",component:"span"},"Begin Episode:")," ",n.beginEpisode.identifier),!!n.latestEntity&&Object(i.e)(q.a,{variant:"body2",color:"textSecondary"},Object(i.e)(q.a,{variant:"body2",color:"textPrimary",component:"span",css:$},"Latest Release:")," ",n.latestEntity.identifier," (",null===(t=n.latestEntity.latestRelease)||void 0===t?void 0:t.quality,")"))),Object(i.e)(F.a,{css:re},Object(i.e)("span",null),Object(i.e)("span",null,Object(i.e)(B.a,{title:"Remove",placement:"top"},Object(i.e)(J.a,{"aria-label":"remove",onClick:r},Object(i.e)(Y.a,null))))))};function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ce,ie,ue,se,le=function(e){!function(e){var t=E(Object(d.b)(D),2)[1],n=Object(y.stringify)(Object(m.d)(x({},e,{page:e.page+1}))),r=E(Object(v.b)("/series?".concat(n)),2),a=r[0],c=r[1];Object(o.useEffect)((function(){(function(){var e=h(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:(n=e.sent).ok&&t(P(n.data,parseInt(null!==(r=n.headers.get("total-count"))&&void 0!==r?r:"0",10)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,c])}(e.options);var t=ae(Object(d.b)(D),1)[0].shows,n=ae(Object(o.useState)(),2),r=n[0],c=n[1],u=Object(o.useCallback)((function(){return c(void 0)}),[]),s=ae(function(e){var t=E(Object(d.b)(D),2)[1],n=E(Object(v.b)("/series/".concat(e),m.a.Delete),2),r=n[0],a=n[1];return[r,Object(o.useCallback)(h(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a();case 2:return(r=n.sent).ok&&e&&t(k(e)),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)}))),[t,a,e])]}(r),2),l=s[0],b=s[1];return Object(i.e)(a.a.Fragment,null,Object(i.e)(_.a,{container:!0,spacing:2},t.map((function(e){return Object(i.e)(_.a,{item:!0,key:e.id,xs:12,md:6,lg:4},Object(i.e)(oe,{show:e,onRemoveClick:function(){return c(r)}}))}))),Object(i.e)(N,{open:!!r,onClose:u,request:b,state:l,name:"Show"}))};!function(e){e.ShowName="show_name",e.LastDownloadDate="last_download_date"}(ce||(ce={})),function(e){e.Configured="configured",e.Unconfigured="unconfigured",e.All="all"}(ie||(ie={})),function(e){e.FirstSeen="first_seen",e.Downoaded="downloaded",e.ProperCount="proper_count",e.Title="title"}(ue||(ue={})),function(e){e.Ep="ep",e.Sequence="sequence",e.Date="date"}(se||(se={}));var be=n(1086),fe=n(874);function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Oe=function(e){return Object(i.d)("display:flex;justify-content:space-between;padding-bottom:",e.typography.pxToRem(e.spacing(2)),";align-items:center;")},de={name:"1i24pk4",styles:"display:flex;align-items:center;font-size:14px;"},je=function(e){return Object(i.d)("margin-left:",e.typography.pxToRem(e.spacing(2)),";margin-right:",e.typography.pxToRem(e.spacing(2)),";")},ye={name:"67e5f8",styles:"font-size:inherit;"},me=[{value:ce.ShowName,label:"Show Name"},{value:ce.LastDownloadDate,label:"Last Download Date"}],ve=[{value:f.a.Desc,label:"Desc"},{value:f.a.Asc,label:"Asc"}],ge=[{value:ie.Configured,label:"Configured"},{value:ie.Unconfigured,label:"Unconfigured"},{value:ie.All,label:"All Shows"}],he=function(e){var t=e.options,n=t.page,r=t.perPage,o=pe(Object(d.b)(D),1)[0].totalCount,c=Object(O.d)().setFieldValue,u=function(e){c("perPage",parseInt(e.target.value,10)),c("page",0)},s=function(e,t){c("page",t)};return Object(p.a)(),Object(i.e)(a.a.Fragment,null,Object(i.e)(i.a,null,(function(e){var t=e.css;return Object(i.e)("div",{css:Oe},Object(i.e)("div",{css:de}),Object(i.e)("div",{css:de},Object(i.e)(fe.a,{label:"Configured",name:"inConfig",id:"inConfig",size:"small",InputProps:{className:t(ye)},options:ge}),Object(i.e)(fe.a,{css:je,label:"Sort By",name:"sortBy",id:"sortBy",size:"small",InputProps:{className:t(ye)},options:me}),Object(i.e)(fe.a,{css:je,label:"Order",name:"order",id:"order",size:"small",InputProps:{className:t(ye)},options:ve}),Object(i.e)(be.a,{rowsPerPageOptions:[30,60,90],count:o,rowsPerPage:r,page:n,onChangePage:s,onChangeRowsPerPage:u,component:"div"})))})))},Ee=n(855);function we(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var xe=function(e){return Object(i.d)("color:",e.palette.error[500],";text-align:center;")},Re=function(e){var t,n,r,a,c=e.open,u=void 0!==c&&c,s=e.onClose,l=Se((t=E(Object(d.b)(D),2)[1],n=E(Object(v.b)("/series",m.a.Post),2),r=n[0],a=n[1],[r,Object(o.useCallback)(function(){var e=h(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n);case 2:return(r=e.sent).ok&&t(A(r.data)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,a])]),2),b=l[0],f=b.loading,p=b.error,j=l[1];return Object(i.e)(T.a,{open:u,onClose:s,fullWidth:!0,maxWidth:"xs"},Object(i.e)(I.a,null,"Add New Show"),Object(i.e)(O.b,{initialValues:{beginEpisode:"",name:""},onSubmit:function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:e.sent.ok&&(n.resetForm(),s());case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){we(a,r,o,c,i,"next",e)}function i(e){we(a,r,o,c,i,"throw",e)}c(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()},Object(i.e)(O.a,null,Object(i.e)(L.a,null,p&&Object(i.e)(M.a,{css:xe},p.message),Object(i.e)(Ee.a,{id:"name",label:"Name",fullWidth:!0,name:"name",autoFocus:!0}),Object(i.e)(Ee.a,{id:"beginEpisode",label:"Begin Episode",fullWidth:!0,name:"beginEpisode"})),Object(i.e)(V.a,null,Object(i.e)(W.a,{onClick:s,type:"button"},"Cancel"),Object(i.e)(W.a,{type:"submit",color:"primary",disabled:f},"Add")))))};function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ae,ke=function(e){return Object(i.d)("position:absolute;bottom:",e.typography.pxToRem(e.spacing(2)),";right:",e.typography.pxToRem(e.spacing(2)),";")},Ce=function(){Object(b.d)("Series");var e=Pe(Object(p.b)({page:0,perPage:30,order:f.a.Desc,sortBy:ce.ShowName,inConfig:ie.Configured}),2),t=e[0],n=e[1],r=Object(o.useCallback)((function(e){return n(e)}),[n]),a=Pe(Object(p.c)(),2),c=a[0],s=a[1],d=s.close,j=s.open;return Object(i.e)(D.Provider,null,Object(i.e)(O.b,{initialValues:t,onSubmit:r},Object(i.e)(he,{options:t})),Object(i.e)(le,{options:t}),Object(i.e)(u.a,{"aria-label":"Add",onClick:j,css:ke,color:"primary"},Object(i.e)(l,null)),Object(i.e)(Re,{open:c,onClose:d}))},De=n(1080);function _e(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function Te(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){_e(a,r,o,c,i,"next",e)}function i(e){_e(a,r,o,c,i,"throw",e)}c(void 0)}))}}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.GET_EPISODES="@flexget/series/GET_EPISODES",e.REMOVE_EPISODE="@flexget/series/REMOVE_EPISODE",e.REMOVE_EPISODES="@flexget/series/REMOVE_EPISODES"}(Ae||(Ae={}));var We=function(e,t){return Object(j.a)(Ae.GET_EPISODES,{episodes:e,totalCount:t})},He=function(e){return Object(j.a)(Ae.REMOVE_EPISODE,e)},ze=function(e,t){switch(t.type){case Ae.GET_EPISODES:return Me({},t.payload);case Ae.REMOVE_EPISODE:return{totalCount:e.totalCount-1,episodes:e.episodes.filter((function(e){return e.id!==t.payload}))};case Ae.REMOVE_EPISODES:return{totalCount:0,episodes:[]};default:return e}},Ne=Object(d.a)((function(){return Object(o.useReducer)(ze,{episodes:[],totalCount:0})}));function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ge=function(e){return Object(i.d)("display:flex;justify-content:space-between;padding-bottom:",e.typography.pxToRem(e.spacing(2)),";align-items:center;")},qe={name:"1i24pk4",styles:"display:flex;align-items:center;font-size:14px;"},Fe=function(e){return Object(i.d)("margin-left:",e.typography.pxToRem(e.spacing(2)),";margin-right:",e.typography.pxToRem(e.spacing(2)),";")},Be={name:"67e5f8",styles:"font-size:inherit;"},Je=[{value:f.a.Desc,label:"Desc"},{value:f.a.Asc,label:"Asc"}],Ye=function(e){var t=e.options,n=t.page,r=t.perPage,o=Ue(Object(d.b)(Ne),1)[0].totalCount,a=Object(O.d)().setFieldValue,c=function(e){a("perPage",parseInt(e.target.value,10)),a("page",0)},u=function(e,t){a("page",t)};return Object(p.a)(),Object(i.e)(i.a,null,(function(e){var t=e.css;return Object(i.e)("div",{css:Ge},Object(i.e)("div",{css:qe}),Object(i.e)("div",{css:qe},Object(i.e)(fe.a,{css:Fe,label:"Order",name:"order",id:"order",size:"small",InputProps:{className:t(Be)},options:Je}),Object(i.e)(be.a,{rowsPerPageOptions:[30,60,90],count:o,rowsPerPage:r,page:n,onChangePage:u,onChangeRowsPerPage:c,component:"div"})))}))},Ke=n(817),Qe=n(930),Xe=n(792),Ze=n(748),$e=n(801),et=n(8),tt=n(23),nt=(n(30),n(27)),rt=n(29),ot=a.a.forwardRef((function(e,t){var n=e.classes,r=e.className,o=Object(tt.a)(e,["classes","className"]);return a.a.createElement("div",Object(et.a)({className:Object(nt.a)(n.root,r),ref:t},o))}));ot.muiName="ListItemSecondaryAction";var at,ct=Object(rt.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(ot),it=n(435),ut=n(793),st=n(794),lt=n(788),bt=Object(s.a)(a.a.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"GetApp");function ft(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function pt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){ft(a,r,o,c,i,"next",e)}function i(e){ft(a,r,o,c,i,"throw",e)}c(void 0)}))}}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.GET_RELEASES="@flexget/series/GET_RELEASES",e.UPDATE_RELEASE="@flexget/series/UPDATE_RELEASE",e.UPDATE_RELEASES="@flexget/series/UPDATE_RELEASES",e.REMOVE_RELEASE="@flexget/series/REMOVE_RELEASE",e.REMOVE_RELEASES="@flexget/series/REMOVE_RELEASES"}(at||(at={}));var mt=function(e,t){return Object(j.a)(at.GET_RELEASES,{releases:e,totalCount:t})},vt=function(e){return Object(j.a)(at.UPDATE_RELEASE,e)},gt=function(){return Object(j.a)(at.UPDATE_RELEASES)},ht=function(e){return Object(j.a)(at.REMOVE_RELEASE,e)},Et=function(){return Object(j.a)(at.REMOVE_RELEASES)},wt=function(e,t){switch(t.type){case at.GET_RELEASES:return jt({},t.payload);case at.UPDATE_RELEASE:return jt({},e,{releases:e.releases.map((function(e){return e.id===t.payload.id?t.payload:e}))});case at.UPDATE_RELEASES:return jt({},e,{releases:e.releases.map((function(e){return jt({},e,{downloaded:!1})}))});case at.REMOVE_RELEASE:return{totalCount:e.totalCount-1,releases:e.releases.filter((function(e){return e.id!==t.payload}))};case at.REMOVE_RELEASES:return{totalCount:0,releases:[]};default:return e}},St=Object(d.a)((function(){return Object(o.useReducer)(wt,{releases:[],totalCount:0})}));function xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Rt=function(e){var t=e.show,n=e.episode,r=xt(Object(d.b)(St),1)[0].releases,a=xt(Object(p.b)({page:0,perPage:50,order:f.a.Desc,sortBy:ue.FirstSeen}),1)[0],c=xt(Object(o.useState)(),2),u=c[0],s=c[1],l=null!=u?u:{},b=l.release,O=l.anchorEl,j=xt(Object(p.c)(),2),g=j[0],h=j[1],E=h.open,w=h.close,S=Object(o.useCallback)((function(){return s(void 0)}),[]),x=Object(o.useCallback)((function(e,t){return s({anchorEl:t.currentTarget,release:e})}),[]);!function(e,t,n){var r=Ot(Object(d.b)(St),2)[1],a=Object(y.stringify)(Object(m.d)(jt({},n,{page:n.page+1}))),c=Ot(Object(v.b)("/series/".concat(e,"/episodes/").concat(t,"/releases?").concat(a)),2),i=c[0],u=c[1];Object(o.useEffect)((function(){(function(){var e=pt(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:(t=e.sent).ok&&r(mt(t.data,parseInt(null!==(n=t.headers.get("total-count"))&&void 0!==n?n:"0",10)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r,u])}(t.id,n.id,a);var R,P,A,k,C,D,_,T=xt((R=t.id,P=n.id,A=null==b?void 0:b.id,k=Ot(Object(d.b)(St),2)[1],C=Ot(Object(v.b)("/series/".concat(R,"/episodes/").concat(P,"/releases/").concat(A),m.a.Delete),2),D=C[0],_=C[1],[D,Object(o.useCallback)(pt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return(t=e.sent).ok&&A&&k(ht(A)),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),[k,A,_])]),2),I=T[0],L=T[1],M=xt(function(e,t,n){var r=Ot(Object(d.b)(St),2)[1],a=Ot(Object(v.b)("/series/".concat(e,"/episodes/").concat(t,"/releases/").concat(n),m.a.Put),2),c=a[0],i=a[1];return[c,Object(o.useCallback)(pt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return(t=e.sent).ok&&r(vt(t.data)),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),[r,i])]}(t.id,n.id,null==b?void 0:b.id),2),V=M[0].loading,W=M[1];return Object(i.e)(Xe.a,{dense:!0},r.map((function(e){return Object(i.e)(Ze.a,{key:e.id},Object(i.e)($e.a,{primary:e.title,secondary:e.quality}),Object(i.e)(ct,null,Object(i.e)(J.a,{edge:"end",onClick:function(t){return x(e,t)},"aria-label":"View More"},Object(i.e)(lt.a,null))))})),Object(i.e)(it.a,{anchorEl:O,open:!!O,onClose:S},Object(i.e)(ut.a,{onClick:W,disabled:V||!(null==b?void 0:b.downloaded)},Object(i.e)(st.a,null,Object(i.e)(bt,null)),"Reset Release"),Object(i.e)(ut.a,{onClick:E},Object(i.e)(st.a,null,Object(i.e)(Y.a,null)),"Delete Release")),Object(i.e)(N,{open:g,onClose:w,state:I,request:L,name:"Release"}))};function Pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var At={name:"1l53txw",styles:"position:relative;display:flex;flex-direction:column;justify-content:start;height:100%;"},kt={name:"15y92lb",styles:"flex:1;width:100%;"},Ct=function(e){return Object(i.d)("padding-left:",e.typography.pxToRem(e.spacing(3)),";justify-content:space-between;")},Dt=function(e){var t,n,r,a,c,u,s=e.show,l=e.episode,b=e.onRemoveClick,f=Pt(Object(p.c)(),2),O=f[0],j=f[1].toggle,y=Pt(Object(p.c)(),2),g=y[0],h=y[1],E=h.open,w=h.close,S=Pt((t=s.id,n=l.id,r=Ot(Object(d.b)(St),2)[1],a=Ot(Object(v.b)("/series/".concat(t,"/episodes/").concat(n,"/releases"),m.a.Delete),2),c=a[0],u=a[1],[c,Object(o.useCallback)(pt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return(t=e.sent).ok&&r(Et()),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),[r,u])]),2),x=S[0],R=S[1],P=Pt(function(e,t){var n=Ot(Object(d.b)(St),2)[1],r=Ot(Object(v.b)("/series/".concat(e,"/episodes/").concat(t,"/releases"),m.a.Put),2),a=r[0],c=r[1];return[a,Object(o.useCallback)(pt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return(t=e.sent).ok&&n(gt()),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),[n,c])]}(s.id,l.id),2),A=P[0].loading,k=P[1];return Object(i.e)(U.a,{css:At},Object(i.e)(K.a,{entry:Z(s,l),css:kt}),Object(i.e)(F.a,{css:Ct},Object(i.e)("span",null,Object(i.e)(W.a,{onClick:E,color:"primary",size:"small"},"Delete Releases"),Object(i.e)(W.a,{onClick:k,disabled:A,size:"small",color:"primary"},"Reset Releases")),Object(i.e)("span",null,Object(i.e)(W.a,{onClick:b,color:"primary",size:"small"},"Delete Episode"),Object(i.e)(Qe.a,{open:O,onClick:j}))),Object(i.e)(Ke.a,{in:O,timeout:"auto",mountOnEnter:!0},Object(i.e)(Rt,{show:s,episode:l})),Object(i.e)(N,{open:g,onClose:w,state:x,request:R,name:"Releases"}))};function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Tt=function(e){var t=e.show,n=e.options;!function(e,t){var n=Ie(Object(d.b)(Ne),2)[1],r=Object(y.stringify)(Object(m.d)(Me({},t,{page:t.page+1}))),a=Ie(Object(v.b)("/series/".concat(e,"/episodes?").concat(r)),2),c=a[0],i=a[1];Object(o.useEffect)((function(){e&&function(){var e=Te(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:(t=e.sent).ok&&n(We(t.data,parseInt(null!==(r=t.headers.get("total-count"))&&void 0!==r?r:"0",10)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n,i,e])}(null==t?void 0:t.id,n);var r=_t(Object(d.b)(Ne),1)[0].episodes,c=_t(Object(o.useState)(),2),u=c[0],s=c[1],l=Object(o.useCallback)((function(){return s(void 0)}),[]),b=_t(function(e,t){var n=Ie(Object(d.b)(Ne),2)[1],r=Ie(Object(v.b)("/series/".concat(e,"/episodes/").concat(t),m.a.Delete),2),a=r[0],c=r[1];return[a,Object(o.useCallback)(Te(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return(r=e.sent).ok&&t&&n(He(t)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),[n,t,c])]}(null==t?void 0:t.id,u),2),f=b[0],p=b[1];return t?Object(i.e)(a.a.Fragment,null,Object(i.e)(_.a,{container:!0,spacing:2},r.map((function(e){return Object(i.e)(_.a,{item:!0,key:e.id,xs:12,md:6,lg:4},Object(i.e)(St.Provider,null,Object(i.e)(Dt,{show:t,episode:e,onRemoveClick:function(){return s(e.id)}})))}))),Object(i.e)(N,{open:!!u,onClose:l,request:p,state:f,name:"Episode"})):null};function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Lt=function(){var e=parseInt(Object(c.i)().showId,10),t=Object(c.g)().push,n=function(e){var t=E(Object(v.b)("/series/".concat(e)),2),n=t[0],r=t[1],a=E(Object(o.useState)(),2),c=a[0],i=a[1];return Object(o.useEffect)((function(){(function(){var e=h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:(t=e.sent).ok&&i(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]),x({},n,{show:c})}(e).show,r=n?"".concat(n.name," - Episodes"):"Episodes",a=Object(o.useCallback)((function(){t("/series")}),[t]),u=Object(o.useMemo)((function(){return{Component:De.a,onClick:a,label:"go back"}}),[a]);Object(b.d)(r),Object(b.e)(u);var s=It(Object(p.b)({page:0,perPage:30,order:f.a.Desc}),2),l=s[0],d=s[1],j=Object(o.useCallback)((function(e){return d(e)}),[d]);return Object(i.e)(Ne.Provider,null,Object(i.e)(O.b,{initialValues:l,onSubmit:j},Object(i.e)(Ye,{options:l})),Object(i.e)(Tt,{show:n,options:l}))};t.default=function(){var e=Object(c.j)().path;return Object(i.e)(c.d,null,Object(i.e)(c.b,{exact:!0,path:e,component:Ce}),Object(i.e)(c.b,{exact:!0,path:"".concat(e,"/:showId"),component:Lt}))}},930:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(14),c=n(77),i=Object(c.a)(o.a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),u=n(791);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var b=function(e){return Object(a.d)("transition:",e.transitions.create(["transform"]),";")},f={name:"4ky835",styles:"transform:rotate(180deg);"},p=Object(r.forwardRef)((function(e,t){var n=e.open,o=l(e,["open"]),c=Object(r.useCallback)((function(e){return[b(e),n&&f]}),[n]);return Object(a.e)(u.a,s({},o,{css:c,ref:t}),Object(a.e)(i,null))}));t.a=p}}]);
//# sourceMappingURL=SeriesPlugin.2e537b8c04b73fd739f5.js.map