

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Trading Environment &mdash; TensorTrade 0.1.0-rc0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Exchange" href="exchange.html" />
    <link rel="prev" title="Components" href="../components.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo.jpg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
</ul>
<p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/getting_started.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/getting_started.html#docker">Docker</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../examples/overview.html">Code Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/train_and_evaluate.html">Train and Evaluate</a></li>
</ul>
<p class="caption"><span class="caption-text">Component Types</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../components.html">Components</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Trading Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="exchange.html">Exchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature_pipeline.html">Feature Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_scheme.html">Action Scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="reward_scheme.html">Reward Scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="trading_strategy.html">Trading Strategy</a></li>
</ul>
<p class="caption"><span class="caption-text">Trading Environment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../environments/TradingEnvironment.html">TradingEnvironment</a></li>
</ul>
<p class="caption"><span class="caption-text">Exchanges</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../exchanges/Exchange.html">Exchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exchanges/simulated/SimulatedExchange.html">SimulatedExchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exchanges/simulated/FBMExchange.html">FBMExchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exchanges/live/CCXTExchange.html">CCXTExchange</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exchanges/live/InteractiveBrokersExchange.html">InteractiveBrokersExchange</a></li>
</ul>
<p class="caption"><span class="caption-text">Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../features/FeaturePipeline.html">FeaturePipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/FeatureTransformer.html">FeatureTransformer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/scalers/MinMaxNormalizer.html">MinMaxNormalizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/scalers/StandardNormalizer.html">StandardNormalizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/stationarity/FractionalDifference.html">FractionalDifference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/indicators/TAlibIndicator.html">TAlibIndicator</a></li>
</ul>
<p class="caption"><span class="caption-text">Actions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../actions/ActionScheme.html">ActionScheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../actions/ContinuousActions.html">ContinuousActions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../actions/DiscreteActions.html">DiscreteActions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../actions/MultiDiscreteActions.html">MultiDiscreteActions</a></li>
</ul>
<p class="caption"><span class="caption-text">Rewards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rewards/RewardScheme.html">Reward Scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rewards/RiskAdjustedReturns.html">Risk Adjusted Returns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rewards/SimpleProfit.html">Simple Profit</a></li>
</ul>
<p class="caption"><span class="caption-text">Learning Agents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../agents/learning_agents.html">Learning Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../agents/stable_baselines.html">Stable Baselines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../agents/tensorforce.html">Tensorforce</a></li>
</ul>
<p class="caption"><span class="caption-text">Strategies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../strategies/TradingStrategy.html">TradingStrategy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../strategies/StableBaselinesTradingStrategy.html">StableBaselinesTradingStrategy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../strategies/TensorforceTradingStrategy.html">TensorforceTradingStrategy</a></li>
</ul>
<p class="caption"><span class="caption-text">API reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/modules.html">API reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">TensorTrade</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Trading Environment</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/components/component_types/trading_environment.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="trading-environment">
<h1>Trading Environment<a class="headerlink" href="#trading-environment" title="Permalink to this headline">¶</a></h1>
<p>A trading environment is a reinforcement learning environment that follows OpenAI’s <code class="docutils literal notranslate"><span class="pre">gym.Env</span></code> specification. This allows us to leverage many of the existing reinforcement learning models in our trading agent, if we’d like.</p>
<p>Trading environments are fully configurable gym environments with highly composable <code class="docutils literal notranslate"><span class="pre">Exchange</span></code>, <code class="docutils literal notranslate"><span class="pre">FeaturePipeline</span></code>, <code class="docutils literal notranslate"><span class="pre">ActionScheme</span></code>, and <code class="docutils literal notranslate"><span class="pre">RewardScheme</span></code> components.</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Exchange</span></code> provides observations to the environment and executes the agent’s trades.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">FeaturePipeline</span></code> optionally transforms the exchange output into a more meaningful set of features before it is passed to the agent.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ActionScheme</span></code> converts the agent’s actions into executable trades.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">RewardScheme</span></code> calculates the reward for each time step based on the agent’s performance.</p></li>
</ul>
<p>That’s all there is to it, now it’s just a matter of composing each of these components into a complete environment.</p>
<p>When the reset method of a <code class="docutils literal notranslate"><span class="pre">TradingEnvironment</span></code> is called, all of the child components will also be reset. The internal state of each exchange, feature pipeline, transformer, action scheme, and reward scheme will be set back to their default values, ready for the next episode.</p>
<p>Let’s begin with an example environment. As mentioned before, initializing a <code class="docutils literal notranslate"><span class="pre">TradingEnvironment</span></code> requires an exchange, an action scheme, and a reward scheme, the feature pipeline is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tensortrade.environments</span> <span class="kn">import</span> <span class="n">TradingEnvironment</span>

<span class="n">environment</span> <span class="o">=</span> <span class="n">TradingEnvironment</span><span class="p">(</span><span class="n">exchange</span><span class="o">=</span><span class="n">exchange</span><span class="p">,</span>
                                 <span class="n">action_scheme</span><span class="o">=</span><span class="n">action_scheme</span><span class="p">,</span>
                                 <span class="n">reward_scheme</span><span class="o">=</span><span class="n">reward_scheme</span><span class="p">,</span>
                                 <span class="n">feature_pipeline</span><span class="o">=</span><span class="n">feature_pipeline</span><span class="p">)</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="exchange.html" class="btn btn-neutral float-right" title="Exchange" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../components.html" class="btn btn-neutral float-left" title="Components" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Adam King

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>