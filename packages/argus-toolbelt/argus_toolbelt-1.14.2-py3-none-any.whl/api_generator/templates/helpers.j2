{% macro format_arguments(arguments) -%}
    {%- for arg in arguments %}
        {{- arg.name | to_safe_argument }}
        {%- if 'items' in arg and 'type' in arg['items'] -%}
            : {{ arg['items']['type'] }}
        {%- elif arg.type -%}
            : {{ arg.type }}
        {%- endif -%}
        {%- if arg.default -%}
            {{" "}}={{" "}}
            {%- if arg.default is string -%}
                "{{arg.default}}"
            {%- elif arg.default is iterable -%}
                [{{arg.default | join(",")}}]
            {%- elif arg.default is number -%}
                {{ arg.default }}
            {%- endif -%}
        {%- elif arg.required != True -%}
            {{" = None"}}
        {%- endif -%}
        {{ "," }}
    {% endfor -%}
{%- endmacro %}

{% macro format_arguments_as_dict(arguments) -%}
    {{ "{" }}
    {%- if arguments -%}
    {% for arg in arguments %}
        "{{ arg.name }}": {{ arg.name | to_safe_argument }}
        {%- if not loop.last %}, {% endif -%}
    {% endfor %}
    {%- endif %}
    {{ "}" }}
{%- endmacro %}


{% macro format_url_parameters(parameters) -%}
    {% for param in parameters -%}
        {{ param.name }}={{ param.name | to_safe_argument }}
        {%- if not loop.last -%}, {% endif %}
    {%- endfor %}
{%- endmacro %}


{%- macro exception(exception) -%}
  {%- for word in exception.split(" ") -%}
    {{ word | capitalize }}
  {%- endfor -%}
  {{ "Exception" }}
{%- endmacro -%}
