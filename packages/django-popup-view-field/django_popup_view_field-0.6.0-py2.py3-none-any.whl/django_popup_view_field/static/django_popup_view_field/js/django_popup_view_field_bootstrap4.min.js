if("undefined"==typeof jQuery)throw new Error("django-popup-view-field - requires jQuery");$(document).ready(function(){var t=function(o,a,i,n,e){var l={url:i,method:n,cache:!1};null!=e&&(l.data=e);var d=$.ajax(l);d.done(function(i){o.find(".modal-body").html(i),function(o,a){var i=o.find(".modal-body");i.find("*").on("click",function(i){var n=null,e=$(this),l=e.data("popup-view-value");if(void 0!==l&&("html()"===l&&(l=e.html())&&(l=l.trim()),n=a.data("target"),target=$("#"+n),i.stopPropagation(),o.modal("hide"),target.val(l)),!0===e.is("a[href]")){var d=e.prop("href");return i.stopPropagation(),t(o,a,d,"GET",null),!1}}),i.find("form").on("submit",function(i){var n=$(this),e=n.attr("method")||"POST",l=n.attr("action")||".",d=n.serialize();return i.stopPropagation(),t(o,a,l,e,d),!1})}(o,a)}),d.fail(function(t){throw o.modal("dispose"),new Error("django-popup-view-field - Ajax request to url: "+i)})},o=function(t){var o=$("#django-popup-view-field"),a=gettext("Data is loading ..."),i=gettext("Close");if(null!==t)var n=t.data("popup-dialog-title");else n="Modal title";o.find(".modal-title").html(n),o.find(".modal-body").html(a),o.find(".modal-footer-close").html(i)};$(".popup-view-btn-load").on("click",function(){var a=$(this),i=function(t){return t.data("url")}(a),n=$("#django-popup-view-field");o(a),t(n,a,i,"GET",null),n.on("hidden.bs.modal",function(t){n.modal("hide"),o(null)}),n.modal({})}),$(".popup-view-btn-clear").on("click",function(){var t=$(this).data("target");$("#"+t).val("")})});
