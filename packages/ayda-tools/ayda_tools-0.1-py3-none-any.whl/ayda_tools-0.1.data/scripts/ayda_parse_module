#!python
from argparse import ArgumentParser
import json

from ayda_tools.parsing import get_compatible_classes


if __name__ == "__main__":
    parser = ArgumentParser(
        description="Tool to parse a module to find AYDA compatible"
        " elements and return them as server "
        "configuration"
    )
    parser.add_argument("module_name", help="Python module to parse")
    args = parser.parse_args()
    descriptions = get_compatible_classes(args.module_name)
    print(json.dumps(descriptions, indent=4))
