Metadata-Version: 2.1
Name: ndx-fret
Version: 0.0.2
Summary: FRET
Home-page: https://github.com/ben-dichter-consulting/ndx-fret
Author: Luiz Tauffer and Ben Dichter
Author-email: ben.dichter@gmail.com
License: UNKNOWN
Platform: UNKNOWN
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: Science/Research
Description-Content-Type: text/markdown
Requires-Dist: pynwb

# ndx-fret
NWB extension for storing Fluorescence Resonance Energy Transfer (FRET) experimental data

[![PyPI version](https://badge.fury.io/py/ndx-fret.svg)](https://badge.fury.io/py/ndx-fret)

### Python Installation
```bash
pip install ndx-fret
```

### Python Usage
```python
from pynwb import NWBFile, NWBHDF5IO
from pynwb.device import Device
from pynwb.ophys import OpticalChannel
from ndx_fret import FRET, FRETSeries

from datetime import datetime
import numpy as np

nwb = NWBFile('session_description', 'identifier', datetime.now().astimezone())

# Create and add device
device = Device(name='Device')
nwb.add_device(device)

# Create optical channels
opt_ch_d = OpticalChannel(
    name='optical_channel',
    description='optical_channel_description',
    emission_lambda=450.
)
opt_ch_a = OpticalChannel(
    name='optical_channel',
    description='optical_channel_description',
    emission_lambda=500.
)

# Create FRET
fs_d = FRETSeries(
    name='donor',
    fluorophore='mCitrine',
    optical_channel=opt_ch_d,
    device=device,
    emission_lambda=0.0,
    description='fret_description',
    data=np.random.randn(100, 10, 10),
    rate=200.,
    unit='fret_unit',
)
fs_a = FRETSeries(
    name='acceptor',
    fluorophore='mKate2',
    optical_channel=opt_ch_a,
    device=device,
    emission_lambda=0.0,
    description='fret_description',
    data=np.random.randn(100, 10, 10),
    rate=200.,
    unit='fret_unit',
)

fret = FRET(
    name='FRET',
    excitation_lambda=482.,
    donor=fs_d,
    acceptor=fs_a
)
nwb.add_acquisition(fret)

# Write nwb file
with NWBHDF5IO('test_fret.nwb', 'w') as io:
    io.write(nwb)
    print('NWB file written')

# Read nwb file and check its content
with NWBHDF5IO('test_fret.nwb', 'r', load_namespaces=True) as io:
    nwb = io.read()
    print(nwb)

```


