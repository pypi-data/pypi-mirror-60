

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Running species &mdash; species 0.1.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Overview" href="../overview.html" />
    <link rel="prev" title="Installation" href="../installation.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/species_logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#virtual-environment">Virtual Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installation-from-pypi">Installation from PyPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installation-from-github">Installation from Github</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#testing-species">Testing <cite>species</cite></a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Running <em>species</em></a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Initiating-species">Initiating <em>species</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="#Adding-a-photometric-library">Adding a photometric library</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Adding-companion-data">Adding companion data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Reading-color-magnitude-data">Reading color-magnitude data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Plotting-a-color-magnitude-diagram">Plotting a color-magnitude diagram</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#supported-data">Supported data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#analysis-tools">Analysis tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#output-boxes">Output boxes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="flux_magnitude.html">Flux and magnitude conversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="synthetic_photometry.html">Synthetic photometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="spectral_library.html">Spectral library</a></li>
<li class="toctree-l2"><a class="reference internal" href="color_magnitude_broadband.html">Color-magnitude diagram: broadband filters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="color_magnitude_broadband.html#Initiating-species">Initiating <em>species</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="color_magnitude_broadband.html#Adding-data-to-the-database">Adding data to the database</a></li>
<li class="toctree-l3"><a class="reference internal" href="color_magnitude_broadband.html#Database-content">Database content</a></li>
<li class="toctree-l3"><a class="reference internal" href="color_magnitude_broadband.html#Synthetic-photometry-from-isochrones">Synthetic photometry from isochrones</a></li>
<li class="toctree-l3"><a class="reference internal" href="color_magnitude_broadband.html#Photometry-of-directly-imaged-objects">Photometry of directly imaged objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="color_magnitude_broadband.html#Reading-color-magnitude-data">Reading color-magnitude data</a></li>
<li class="toctree-l3"><a class="reference internal" href="color_magnitude_broadband.html#Plotting-a-color-magnitude-diagram">Plotting a color-magnitude diagram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="color_magnitude_narrowband.html">Color-magnitude diagram: narrowband filters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="color_magnitude_narrowband.html#Getting-started">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="color_magnitude_narrowband.html#Adding-data-and-models">Adding data and models</a></li>
<li class="toctree-l3"><a class="reference internal" href="color_magnitude_narrowband.html#Synthetic-colors-and-magnitudes">Synthetic colors and magnitudes</a></li>
<li class="toctree-l3"><a class="reference internal" href="color_magnitude_narrowband.html#Selecting-directly-imaged-planets">Selecting directly imaged planets</a></li>
<li class="toctree-l3"><a class="reference internal" href="color_magnitude_narrowband.html#Plotting-a-color-magnitude-diagram">Plotting a color-magnitude diagram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="atmospheric_models.html">Atmospheric models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="atmospheric_models.html#Getting-started">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="atmospheric_models.html#Adding-model-spectra-to-the-database">Adding model spectra to the database</a></li>
<li class="toctree-l3"><a class="reference internal" href="atmospheric_models.html#Interpolating-the-model-grid">Interpolating the model grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="atmospheric_models.html#Extracting-a-spectrum-at-a-grid-point">Extracting a spectrum at a grid point</a></li>
<li class="toctree-l3"><a class="reference internal" href="atmospheric_models.html#Calculating-synthetic-photometry">Calculating synthetic photometry</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data_model.html">Comparison of data and model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_model.html#Initiating-species">Initiating <em>species</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="data_model.html#Adding-model-spectra">Adding model spectra</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_model.html#Adding-companion-data">Adding companion data</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_model.html#Reading-model-spectra">Reading model spectra</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_model.html#Reading-companion-data">Reading companion data</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_model.html#Synthetic-photometry-for-all-filters">Synthetic photometry for all filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_model.html#Creating-flux-residuals">Creating flux residuals</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_model.html#Opening-Box-objects">Opening Box objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_model.html#Plotting-spectra,-fluxes-and-filters">Plotting spectra, fluxes and filters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="photometric_calibration.html">Photometric calibration: fitting a stellar spectrum</a><ul>
<li class="toctree-l3"><a class="reference internal" href="photometric_calibration.html#Getting-started">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="photometric_calibration.html#Adding-an-object-and-calibration-spectrum">Adding an object and calibration spectrum</a></li>
<li class="toctree-l3"><a class="reference internal" href="photometric_calibration.html#Fitting-the-stellar-spectrum">Fitting the stellar spectrum</a></li>
<li class="toctree-l3"><a class="reference internal" href="photometric_calibration.html#Plotting-the-results">Plotting the results</a></li>
<li class="toctree-l3"><a class="reference internal" href="photometric_calibration.html#Photometric-calibration">Photometric calibration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fitting_photometry.html">Fitting photometry with model spectra</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">API documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../species.html">species package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../species.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../species.analysis.html">species.analysis package</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../species.analysis.html#submodules">Submodules</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.analysis.html#module-species.analysis.fit_model">species.analysis.fit_model module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.analysis.html#module-species.analysis.fit_planck">species.analysis.fit_planck module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.analysis.html#module-species.analysis.fit_spectrum">species.analysis.fit_spectrum module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.analysis.html#module-species.analysis.photometry">species.analysis.photometry module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.analysis.html#module-species.analysis">Module contents</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../species.core.html">species.core package</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../species.core.html#submodules">Submodules</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.core.html#module-species.core.box">species.core.box module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.core.html#module-species.core.constants">species.core.constants module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.core.html#module-species.core.setup">species.core.setup module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.core.html#module-species.core">Module contents</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../species.data.html">species.data package</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#submodules">Submodules</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.ames_cond">species.data.ames_cond module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.ames_dusty">species.data.ames_dusty module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.btnextgen">species.data.btnextgen module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.btsettl">species.data.btsettl module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.companions">species.data.companions module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.database">species.data.database module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.drift_phoenix">species.data.drift_phoenix module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.filters">species.data.filters module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.irtf">species.data.irtf module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.isochrones">species.data.isochrones module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.leggett">species.data.leggett module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.petitcode">species.data.petitcode module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.queries">species.data.queries module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.spex">species.data.spex module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.vega">species.data.vega module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data.vlm_plx">species.data.vlm_plx module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.data.html#module-species.data">Module contents</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../species.plot.html">species.plot package</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../species.plot.html#submodules">Submodules</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.plot.html#module-species.plot.plot_color">species.plot.plot_color module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.plot.html#module-species.plot.plot_mcmc">species.plot.plot_mcmc module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.plot.html#module-species.plot.plot_spectrum">species.plot.plot_spectrum module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.plot.html#module-species.plot">Module contents</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../species.read.html">species.read package</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../species.read.html#submodules">Submodules</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.read.html#module-species.read.read_calibration">species.read.read_calibration module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.read.html#module-species.read.read_color">species.read.read_color module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.read.html#module-species.read.read_filter">species.read.read_filter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.read.html#module-species.read.read_isochrone">species.read.read_isochrone module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.read.html#module-species.read.read_model">species.read.read_model module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.read.html#module-species.read.read_object">species.read.read_object module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.read.html#module-species.read.read_planck">species.read.read_planck module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.read.html#module-species.read.read_spectrum">species.read.read_spectrum module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.read.html#module-species.read">Module contents</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../species.util.html">species.util package</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../species.util.html#submodules">Submodules</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.util.html#module-species.util.data_util">species.util.data_util module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.util.html#module-species.util.phot_util">species.util.phot_util module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.util.html#module-species.util.plot_util">species.util.plot_util module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.util.html#module-species.util.read_util">species.util.read_util module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.util.html#module-species.util.test_util">species.util.test_util module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../species.util.html#module-species.util">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../species.html#module-species">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">About species</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../about.html#questions-feedback">Questions &amp; feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about.html#attribution">Attribution</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">species</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Running <em>species</em></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/tomasstolker/species/blob/master/docs/tutorials/running_species.ipynb" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 5ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Running-species">
<h1>Running <em>species</em><a class="headerlink" href="#Running-species" title="Permalink to this headline">¶</a></h1>
<p>This tutorial shows what a typical workflow with <em>species</em> looks like. The colors and magnitudes of a few directly imaged objects are compared with the field dwarfs from the <a class="reference external" href="http://www.as.utexas.edu/~tdupuy/plx/Database_of_Ultracool_Parallaxes.html">Database of Ultracool Parallaxes</a>.</p>
<div class="section" id="Initiating-species">
<h2>Initiating <em>species</em><a class="headerlink" href="#Initiating-species" title="Permalink to this headline">¶</a></h2>
<p>We start by importing the <em>species</em> toolkit.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">species</span>
</pre></div>
</div>
</div>
<p>Next, the configuration file (<em>species_config.ini</em>) is read from the working folder. Since the file does not exist, it is created with default values for the path of the HDF5 database and the location where the external data is stored. The database and data folder are also created since this is the first time that we run <em>species</em> with the current configuration file.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">species</span><span class="o">.</span><span class="n">SpeciesInit</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Initiating species v0.1.0... [DONE]
Creating species_config.ini... [DONE]
Database: /Users/tomasstolker/applications/species/docs/tutorials/species_database.hdf5
Data folder: /Users/tomasstolker/applications/species/docs/tutorials/data
Working folder: /Users/tomasstolker/applications/species/docs/tutorials
Creating species_database.hdf5... [DONE]
Creating data folder... [DONE]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;species.core.setup.SpeciesInit at 0x12b8385f8&gt;
</pre></div></div>
</div>
</div>
<div class="section" id="Adding-a-photometric-library">
<h2>Adding a photometric library<a class="headerlink" href="#Adding-a-photometric-library" title="Permalink to this headline">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">Database</span></code> object is now created which can be used for importing data from the chosen data folder into the database.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">database</span> <span class="o">=</span> <span class="n">species</span><span class="o">.</span><span class="n">Database</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>The photometry and parallaxes from the Database of Ultracool Parallaxes are downloaded and added to the database.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">database</span><span class="o">.</span><span class="n">add_photometry</span><span class="p">(</span><span class="s1">&#39;vlm-plx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Downloading Database of Ultracool Parallaxes (307 kB)... [DONE]
Adding Database of Ultracool Parallaxes... [DONE]
</pre></div></div>
</div>
</div>
<div class="section" id="Adding-companion-data">
<h2>Adding companion data<a class="headerlink" href="#Adding-companion-data" title="Permalink to this headline">¶</a></h2>
<p>The distance and magnitudes of 51 Eri b, beta Pic b, and PZ Tel B are added to the database. This will automatically download the filter transmission profiles and a flux calibrated spectrum of Vega. These are required for the flux calibration of the magnitudes.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">database</span><span class="o">.</span><span class="n">add_companion</span><span class="p">(</span><span class="s1">&#39;51 Eri b&#39;</span><span class="p">)</span>
<span class="n">database</span><span class="o">.</span><span class="n">add_companion</span><span class="p">(</span><span class="s1">&#39;beta Pic b&#39;</span><span class="p">)</span>
<span class="n">database</span><span class="o">.</span><span class="n">add_companion</span><span class="p">(</span><span class="s1">&#39;PZ Tel B&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Adding filter: MKO/NSFCam.J... [DONE]
Downloading Vega spectrum (270 kB)... [DONE]
Adding Vega spectrum... [DONE]
Adding filter: MKO/NSFCam.H... [DONE]
Adding filter: MKO/NSFCam.K... [DONE]
Adding filter: Paranal/SPHERE.IRDIS_D_H23_2... [DONE]
Adding filter: Paranal/SPHERE.IRDIS_D_K12_1... [DONE]
Adding filter: Keck/NIRC2.Lp... [DONE]
Adding filter: Keck/NIRC2.Ms... [DONE]
Adding object: 51 Eri b... [DONE]
Adding filter: LCO/VisAO.Ys... [DONE]
Adding filter: Paranal/NACO.J... [DONE]
Adding filter: Gemini/NICI.ED286... [DONE]
Adding filter: Paranal/NACO.H... [DONE]
Adding filter: Paranal/NACO.Ks... [DONE]
Adding filter: Paranal/NACO.NB374... [DONE]
Adding filter: Paranal/NACO.Lp... [DONE]
Adding filter: Paranal/NACO.NB405... [DONE]
Adding filter: Paranal/NACO.Mp... [DONE]
Adding object: beta Pic b... [DONE]
Adding filter: Paranal/SPHERE.ZIMPOL_R_PRIM... [DONE]
Adding filter: Paranal/SPHERE.ZIMPOL_I_PRIM... [DONE]
Adding filter: Paranal/SPHERE.IRDIS_D_H23_3... [DONE]
Adding filter: Paranal/SPHERE.IRDIS_D_K12_2... [DONE]
Adding filter: Gemini/NIRI.H2S1v2-1-G0220... [DONE]
Adding object: PZ Tel B... [DONE]
</pre></div></div>
</div>
</div>
<div class="section" id="Reading-color-magnitude-data">
<h2>Reading color-magnitude data<a class="headerlink" href="#Reading-color-magnitude-data" title="Permalink to this headline">¶</a></h2>
<p>The colors and magnitudes are read from the database by first creating an object of <code class="docutils literal notranslate"><span class="pre">ReadColorMagnitude</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">colormag</span> <span class="o">=</span> <span class="n">species</span><span class="o">.</span><span class="n">ReadColorMagnitude</span><span class="p">(</span><span class="n">library</span><span class="o">=</span><span class="s1">&#39;vlm-plx&#39;</span><span class="p">,</span>
                                      <span class="n">filters_color</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;MKO/NSFCam.J&#39;</span><span class="p">,</span> <span class="s1">&#39;MKO/NSFCam.H&#39;</span><span class="p">),</span>
                                      <span class="n">filter_mag</span><span class="o">=</span><span class="s1">&#39;MKO/NSFCam.J&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The data is read by selecting the object type of the isolated brown dwarfs.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">colorbox</span> <span class="o">=</span> <span class="n">colormag</span><span class="o">.</span><span class="n">get_color_magnitude</span><span class="p">(</span><span class="n">object_type</span><span class="o">=</span><span class="s1">&#39;field&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>A list of directly imaged objects is created with the filter names for the colors and magnitudes.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">objects</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;51 Eri b&#39;</span><span class="p">,</span> <span class="s1">&#39;MKO/NSFCam.J&#39;</span><span class="p">,</span> <span class="s1">&#39;MKO/NSFCam.H&#39;</span><span class="p">,</span> <span class="s1">&#39;MKO/NSFCam.J&#39;</span><span class="p">),</span>
           <span class="p">(</span><span class="s1">&#39;beta Pic b&#39;</span><span class="p">,</span> <span class="s1">&#39;Paranal/NACO.J&#39;</span><span class="p">,</span> <span class="s1">&#39;Paranal/NACO.H&#39;</span><span class="p">,</span> <span class="s1">&#39;Paranal/NACO.J&#39;</span><span class="p">),</span>
           <span class="p">(</span><span class="s1">&#39;PZ Tel B&#39;</span><span class="p">,</span> <span class="s1">&#39;Paranal/NACO.J&#39;</span><span class="p">,</span> <span class="s1">&#39;Paranal/NACO.H&#39;</span><span class="p">,</span> <span class="s1">&#39;Paranal/NACO.J&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Plotting-a-color-magnitude-diagram">
<h2>Plotting a color-magnitude diagram<a class="headerlink" href="#Plotting-a-color-magnitude-diagram" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">ColorMagBox</span></code> object is provided in a list to <code class="docutils literal notranslate"><span class="pre">plot_color_magnitude</span></code>. The list with directly imaged objects are also included.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">species</span><span class="o">.</span><span class="n">plot_color_magnitude</span><span class="p">(</span><span class="n">colorbox</span><span class="o">=</span><span class="p">[</span><span class="n">colorbox</span><span class="p">,</span> <span class="p">],</span>
                             <span class="n">objects</span><span class="o">=</span><span class="n">objects</span><span class="p">,</span>
                             <span class="n">label_x</span><span class="o">=</span><span class="s1">&#39;J - H [mag]&#39;</span><span class="p">,</span>
                             <span class="n">label_y</span><span class="o">=</span><span class="s1">&#39;M$_\mathregular</span><span class="si">{J}</span><span class="s1">$ [mag]&#39;</span><span class="p">,</span>
                             <span class="n">companion_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                             <span class="n">field_range</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;late M&#39;</span><span class="p">,</span> <span class="s1">&#39;late T&#39;</span><span class="p">),</span>
                             <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                             <span class="n">output</span><span class="o">=</span><span class="s1">&#39;color_mag.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Plotting color-magnitude diagram: color_mag.png... [DONE]
</pre></div></div>
</div>
<p>Let’s have a look at the result. The plot is stored in the working folder. The discrete colorbar shows the spectral types of the field dwarfs and the directly imaged objects are labeled individually.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">Image</span>
<span class="n">Image</span><span class="p">(</span><span class="s1">&#39;color_mag.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorials_running_species_26_0.png" src="../_images/tutorials_running_species_26_0.png" />
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../overview.html" class="btn btn-neutral float-right" title="Overview" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../installation.html" class="btn btn-neutral" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-2020, Tomas Stolker

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>